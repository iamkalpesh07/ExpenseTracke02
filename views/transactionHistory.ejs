<link rel="stylesheet" href="/stylesheets/transactionHistory.css">
<% layout("/layouts/boilerplate") %>
<div class="container">
  <div class="mt-4 mb-4">
    <a href="/dashboard" class="btn btn-secondary">Back to Dashboard</a>
  </div>
    <h2 class="mb-4">All Transactions</h2>
    
    <% if (transactions.length === 0) { %>
      <div class="alert alert-info">No transactions found.</div>
    <% } else { %>
      <div class="list-group">
        <% transactions.forEach(tx => { %>
          <div class="list-group-item d-flex justify-content-between align-items-center">
            <div>
              <strong><%= tx.description || tx.category || "Transaction" %></strong><br/>
              <small class="text-muted">
                <%= new Date(tx.date).toLocaleDateString('en-IN', {
                  year: 'numeric', month: 'long', day: 'numeric'
                }) %>
              </small>
            </div>
            <div class="<%= tx.transactionType === 'expense' ? 'text-danger' : 'text-success' %>">
              <%= tx.transactionType === 'expense' ? '-' : '+' %> â‚¹<%= tx.amount %>
            </div>
          </div>
        <% }) %>
      </div>
    <% } %>
  </div>